<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>SAP Инструкции</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

<header class="workspace-bar">
  <div class="workspace-left">
    <div class="workspace-title">SAP Инструкции</div>
    <div class="workspace-subtitle">Рабочее пространство</div>
  </div>

  <div class="workspace-search">
    <input
      type="text"
      placeholder="Поиск инструкций…"
      id="globalSearch"
    />
  </div>

  <div class="workspace-tools">
    <select id="moduleFilter">
      <option value="">Все модули</option>
    </select>

    <label class="tool-toggle">
      <input type="checkbox" id="toggle3d" />
      <span>3D</span>
    </label>
  </div>
</header>

<main>
  <div class="content-sheet">
    <section id="emptyState" class="card" style="display:none;">
      <h3>Пока нет ни одной инструкции</h3>
    </section>

    <section id="instructionsSection" class="list"></section>
  </div>
</main>

<!-- MODAL -->
<div id="instructionModalBackdrop" class="modal-backdrop"></div>

<!-- IMAGE LIGHTBOX -->
<div id="imageLightbox" class="image-lightbox" style="display:none;">
  <div class="image-lightbox-inner">
    <img id="lightboxImg" />
  </div>
</div>

<!-- ================= AI ASSISTANT ================= -->
<div id="aiAssistant">

  <!-- Toggle -->
  <button id="aiToggle" aria-label="AI помощник">
    <svg
      class="ai-helper"
      viewBox="0 0 64 64"
      xmlns="http://www.w3.org/2000/svg"
    >
      <!-- Background -->
      <circle cx="32" cy="32" r="30" fill="#1677ff"/>

      <!-- Head -->
      <rect x="16" y="16" width="32" height="26" rx="8" fill="#ffffff"/>

      <!-- Eyes -->
      <rect class="ai-eye left"  x="22" y="25" width="6" height="6" rx="2" fill="#1677ff"/>
      <rect class="ai-eye right" x="36" y="25" width="6" height="6" rx="2" fill="#1677ff"/>

      <!-- Mouth -->
      <path
        d="M24 36 Q32 40 40 36"
        stroke="#1677ff"
        stroke-width="2"
        fill="none"
        stroke-linecap="round"
      />

      <!-- Core (ОДИН, ПРАВИЛЬНЫЙ) -->
      <circle class="ai-core" cx="32" cy="46" r="4" fill="#ff8a00"/>

    </svg>
  </button>

  <!-- Panel -->
  <div id="aiPanel">

    <!-- Header -->
    <div class="ai-header">

      <div class="ai-header-title">
        AI помощник
      </div>

      <div class="ai-header-actions">
        <!-- Кнопка "Очистить" добавляется JS -->
        <button
          id="aiClose"
          type="button"
          aria-label="Закрыть"
        >×</button>
      </div>

    </div>

    <!-- Messages -->
    <div id="aiMessages"></div>

    <!-- Input -->
    <div class="ai-input">
      <input
        id="aiInput"
        placeholder="Опиши проблему или процесс…"
        autocomplete="off"
      />
      <button id="aiSend" aria-label="Отправить">➤</button>
    </div>

  </div>
</div>

<script type="module" src="js/app.js"></script>
</body>
</html>
